<template name='chatpage'>
    <div class='sidebar'>
        <div class='server-bar'>
            <ul class='server-list'>
            {{#each servers}}
            {{> server}}
            {{/each}}
            </ul>
            <div class='btn-new-server'><p>+</p></div>
        </div>
        <div class='channel-bar'>
            <div class='channel-heading'>
                <span class='channel-heading-name' title="{{currentServer}}">{{currentServer}}</span>
                <button class="btn-edit-server">
                    <i class="mdi mdi-pencil"></i> 
                    <span class="popup" id="edit-server-popup">
                        <label for="new-server-name">Server Name:</label>
                        <input type='text' id='new-server-name' name='new-server-name' autocomplete="off" placeholder="{{currentServer}}">
                    </span>
                </button>
                <button class="btn-new-channel">
                    +
                    <span class="popup" id="edit-channel-popup">
                        <form class="new-channel">
                            <label for="new-channel-name">Channel Name:</label>
                            <input type='text' id='new-channel-name' class="new-channel-name" name='new-channel-name' autocomplete="off" placeholder="New Channel">
                            <input type='submit' name='submit-new-channel' class="new-channel-name" text="Create">
                        </form>
                    </span>
                </button>
            </div>
            <ul class='channel-list'>
            {{#each channels}}
            {{> channel}}
            {{/each}}
            </ul>
        </div>
    </div>

    <div class='menubar'>
        <button class="btn-menu"><i class='mdi mdi-menu'></i></button>
    </div>

    <div class='main-chat'>
        <div class='chat-heading'>
            <i class="mdi mdi-message"></i><span class="chat-heading-name" title="{{currentChannel}}">{{currentChannel}}</span>
        </div>
        <div class='chat-body'>

            <ul class='media-list'>
                <!-- message template -->
                {{#each messages}}
                {{>message}}
                {{/each}}
            </ul>

        </div>
        <div class='chat-footer'>
            {{#if currentUser}}
            {{#if inChannel}}
            <form class='new-message'>
                <input type='text' name='text' class='form-control' placeholder='Enter Message' autocomplete="off" />
                <button type='submit' name='submit' class='submit-btn'>Send</button>
            </form>
            {{/if}}
            {{/if}}
        </div>
    </div>

    <!--OPEN WHEN CREATING SERVER TO PICK NAME-->
    <div class="new-server-overlay">
        <div class="new-server-card">
            <form class="new-server">
                <i class='mdi mdi-close close-new-server-card'></i>
                <label for="servername">Server Name:</label>
                <input type="text" name="servername" class="servername" autocomplete="off" placeholder="Your Server">
                <button type="submit" name="submit-server" class="submit-server">Create</button>
            </form>
        </div>
    </div>
</template>